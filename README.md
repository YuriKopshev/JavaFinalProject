# Дипломная работа “Облачное хранилище”

## Описание проекта

Приложение REST-сервис. Сервис представляет собой REST интерфейс для возможности загрузки файлов и вывода списка уже загруженных файлов пользователя.
Все запросы к сервису авторизованы. Заранее подготовленное веб-приложение (FRONT) подлючается к разработанному сервису без доработок,
а также использовать функционал FRONT для авторизации, загрузки и вывода списка файлов пользователя.

## Требования к приложению:
- Сервис реализует все методы описанные в файле CloudServiceSpecification.yaml(находится в корне проекта):
    1. Вывод списка файлов
    2. Добавление файла
    3. Удаление файла
    4. Авторизация

## В приложении используюся следующие технологии: 

- Приложение разработано с использованием Spring Boot, Spring Data JDBC
- Использован сборщик пакетов gradle
- Для запуска используется docker, docker-compose
- Код покрыт unit тестами с использованием mockito
- Фреймворк Spring Security;
- JSON Web Tokens (JWT);
- Система управления реляционными базами данных MySQL;
- Миграции баз дананх с помощью библиотеки Liquibase;
- Lombok;
- Код размещен на github

## Описание и запуск FRONT

1. Установить nodejs (версия не ниже 14.15.0) на компьютер следуя инструкции: https://nodejs.org/ru/download/
2. Скачать папку FRONT находящуюся в корне проекта
3. Перейти в папку FRONT приложения и все команды для запуска выполнять из нее.
4. Запустить nodejs приложение (npm install, далее npm run serve)
5. Можно задать url для вызова своего backend сервиса:

   5.1 В файле `.env` FRONT (находится в корне проекта) приложения нужно изменить url до backend: `VUE_APP_BASE_URL=http://localhost:5500`

   5.2  Пересобрать и запустить FRONT снова: `npm run serve`

   5.3  Измененный `url` сохранится для следующих запусков.
6. По-умолчанию FRONT запускается на порту 8080 и доступен по url в браузере `http://localhost:8080`


## Авторизация приложения:

FRONT приложение использует header `auth-token` в котором отправляет токен (ключ-строка) для идентификации пользователя на BACKEND.
Для получения токена нужно пройти авторизацию на BACKEND и отправить на метод /login пару логин и пароль, в случае успешной проверки в ответ BACKEND возвращает json объект
с полем `auth-token` и значением токена. Все дальнейшие запросы с FRONTEND, кроме метода /login отправляются с этим header.
Для выхода из приложения нужно вызвать метод BACKEND /logout, который удалит/деактивирует токен и последующие запросы с этим токеном будут не авторизованы и возвращать код 401.


## Запуск приложения
Чтобы запустить приложение, перейдите в корневой каталог приложения и выполните в терминале команду:
```
docker-compose up

```

### Тестовые данные для входа:
```
login: yura@gmail.com
password: 1111
```
```
login: ivan@gmail.com
password: 2222
```